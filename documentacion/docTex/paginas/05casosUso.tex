\section{Casos de Uso}

\subsection*{CU1: Hacer Login}
\textbf{Actores:} Usuario, Sistema\\
\textbf{Flujo Principal:}
\begin{enumerate}
    \item El usuario accede a la página de inicio de sesión. (RF1)
    \item Ingresa su correo electrónico y contraseña.
    \item El sistema verifica las credenciales.
    \item Si las credenciales son correctas, el usuario es redirigido al mapa principal. (RF5)
\end{enumerate}
\textbf{Flujo Alternativo:}
\begin{itemize}
    \item \textit{Credenciales incorrectas:}
    \begin{enumerate}
        \item El sistema muestra un mensaje de error indicando que las credenciales no son válidas.
        \item Ofrece un enlace para recuperar la contraseña por correo.
    \end{enumerate}
\end{itemize}

\subsection*{CU2: Ingreso del Usuario}
\textbf{Actores:} Ciudadano, Sistema\\
\textbf{Flujo Principal:}
\begin{enumerate}
    \item El usuario accede a la página de inicio de sesión. (RF1)
    \item Ingresa su correo electrónico y contraseña.
    \item El sistema verifica las credenciales.
    \item El usuario es redirigido al mapa principal. (RF5)
\end{enumerate}
\textbf{Flujo Alternativo:}
\begin{itemize}
    \item \textit{Credenciales incorrectas:}
    \begin{enumerate}
        \item El sistema muestra un mensaje de error.
        \item Ofrece un enlace para recuperar la contraseña por correo.
    \end{enumerate}
\end{itemize}

\subsection*{CU3: Reportar Incidente Urbano}
\textbf{Actores:} Ciudadano, Sistema\\
\textbf{Flujo Principal:}
\begin{enumerate}
    \item El usuario inicia sesión. (RF1)
    \item Hace clic en ``Reportar Incidente'' desde el mapa principal. (RF3)
    \item Marca la ubicación en el mapa o escribe una dirección. (RF3)
    \item Completa un formulario con tipo de incidente, descripción y hasta 3 fotos. (RF2)
    \item Confirma el reporte tras ver una vista previa.
    \item El sistema muestra el reporte en el mapa con un código único. (RF5)
\end{enumerate}
\textbf{Flujo Alternativo:}
\begin{itemize}
    \item \textit{Sin inicio de sesión:}
    \begin{enumerate}
        \item El sistema redirige al usuario a la página de inicio de sesión antes de continuar.
    \end{enumerate}
\end{itemize}

\subsection*{CU4: Modificar Estatus de Reporte}
\textbf{Actores:} Ciudadano (creador del reporte), Sistema\\
\textbf{Flujo Principal:}
\begin{enumerate}
    \item El usuario inicia sesión y selecciona uno de sus reportes en el mapa. (RF2)
    \item Abre la ventana del reporte y elige un nuevo estatus (``En proceso'' o ``Resuelto''). (RF2)
    \item Confirma el cambio.
    \item El sistema actualiza el estatus y muestra la versión modificada en el mapa. (RF5)
\end{enumerate}
\textbf{Flujo Alternativo:}
\begin{itemize}
    \item \textit{Usuario no creador:}
    \begin{enumerate}
        \item El sistema no muestra opciones de edición y limita la interacción a solo visualización.
    \end{enumerate}
\end{itemize}

\subsection*{CU5: Explorar Incidentes en Mapa}
\textbf{Actores:} Usuario (registrado o invitado), Sistema\\
\textbf{Flujo Principal:}
\begin{enumerate}
    \item El usuario accede al mapa principal y ve los marcadores de incidentes. (RF3)
    \item Usa filtros en la barra lateral para mostrar incidentes por estatus o tipo. (RF4)
    \item Hace clic en un marcador para ver detalles.
    \item El sistema muestra una ventana con fotos, estatus y tipo de incidente. (RF5)
\end{enumerate}
\textbf{Flujo Alternativo:}
\begin{itemize}
    \item \textit{Filtros sin resultados:}
    \begin{enumerate}
        \item El sistema indica que no hay incidentes y sugiere ajustar los filtros.
    \end{enumerate}
\end{itemize}

\subsection*{CU6: Cerrar Sesión}
\textbf{Actores:} Usuario, Sistema\\
\textbf{Flujo Principal:}
\begin{enumerate}
    \item El usuario hace clic en el botón de "Cerrar Sesión" desde cualquier página del sistema. (RF6)
    \item El sistema cierra la sesión del usuario y lo redirige a la página de inicio de sesión. (RF1)
\end{enumerate}
\textbf{Flujo Alternativo:}
\begin{itemize}
    \item \textit{Error en el cierre de sesión:}
    \begin{enumerate}
        \item El sistema muestra un mensaje de error indicando que no se pudo cerrar la sesión.
        \item El usuario puede intentar nuevamente o contactar soporte técnico.
    \end{enumerate}
\end{itemize}